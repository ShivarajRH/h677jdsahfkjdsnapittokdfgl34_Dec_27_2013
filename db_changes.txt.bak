CREATE TABLE `t_upd_product_deal_link_log` (         
                               `id` bigint(11) unsigned NOT NULL AUTO_INCREMENT,  
                               `itemid` bigint(20) unsigned DEFAULT NULL,         
                               `product_id` int(11) unsigned DEFAULT NULL,        
                               `product_mrp` decimal(15,4) DEFAULT '0.0000',      
                               `qty` int(11) DEFAULT '1',                         
                               `is_rm_prd` int(11) DEFAULT '0',                   
                               `is_new_prd` int(11) DEFAULT '0',                  
                               `perform_on` datetime DEFAULT NULL,                
                               `perform_by` int(11) DEFAULT NULL,                 
                               PRIMARY KEY (`id`),                                
                               KEY `itemid` (`itemid`),                           
                               KEY `product_id` (`product_id`)                    
                             );

insert into `user_access_roles`(`id`,`user_role`,`const_name`,`value`) values ( NULL,'UPDATE_PRODUCT_BARCODE','UPDATE_PRODUCT_BARCODE','16777216');
insert into `user_access_roles`(`id`,`user_role`,`const_name`,`value`) values ( NULL,'STOCK_CORRECTION','STOCK_CORRECTION','33554432');
alter table `snapitto_livedb4`.`t_upt_prd_deal_link_log` drop column `is_new_prd`,change `is_rm_prd` `is_updated` int (11) DEFAULT '0' NULL 

ALTER TABLE `snapitto_dblive`.`pnh_m_task_types` ADD COLUMN `short_form` VARCHAR(255) NULL AFTER `task_for`;

ALTER TABLE `snapitto_dblive`.`pnh_sms_log_sent` ADD COLUMN `pnh_empid` INT(10) UNSIGNED NOT NULL AFTER `franchise_id`;

ALTER TABLE `snapitto_dblive`.`pnh_sms_log_sent` CHANGE `franchise_id` `franchise_id` INT(10) NULL, CHANGE `pnh_empid` `pnh_empid` INT(10) NULL;

CREATE TABLE `group_log` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `emp_id` int(11) DEFAULT NULL,
  `type` varchar(2555) DEFAULT NULL,
  `grp_msg` varchar(25555) DEFAULT NULL,
  `created_on` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
);

CREATE TABLE `pnh_m_manifesto_sent_log` (                   
                          `id` bigint(11) NOT NULL AUTO_INCREMENT,                  
                          `manifesto_id` bigint(11) DEFAULT NULL,                   
                          `sent_invoices` text,                                   
                          `remark` text,                                          
                          `hndlby_roleid` int(11) Default '0',                  
                          `hndleby_empid` int(11) DEFAULT '0',                       
                          `hndleby_name` varchar(255) DEFAULT NULL,               
                          `hndleby_contactno` varchar(255) DEFAULT NULL,                
			  			  `pickup_empid` int(11) DEFAULT '0',
			  			  `is_printed` int(5) DEFAULT '0',                      
                          `sent_on` datetime DEFAULT NULL,                        
                          `created_by` int(11) DEFAULT NULL,                     
                          `modified_on` datetime DEFAULT NULL,                    
                          `modified_by` int(11) DEFAULT NULL,                    
                          PRIMARY KEY (`id`)                                      
                        );
                        
                     CREATE TABLE `pnh_invoice_transit_log` (    
                           `id` bigint(11) NOT NULL AUTO_INCREMENT,  
                           `sent_log_id` bigint(11) DEFAULT NULL,    
                           `invoice_no` bigint(20) DEFAULT '0',      
                           `ref_id` int(11) DEFAULT '0',             
                           `status` int(2) DEFAULT '0',              
                           `logged_on` datetime DEFAULT NULL,        
                           `logged_by` int(11) DEFAULT '0',          
                           PRIMARY KEY (`id`)                        
                         );
ALTER TABLE `snapitto_dblive`.`pnh_executive_accounts_log` CHANGE `sender` `sender` VARCHAR(15) NULL; 
ALTER TABLE `snapitto_dblive`.`pnh_employee_grpsms_log` ADD COLUMN `contact_no` varchar(25) NULL AFTER `emp_id`; 
alter table `snapitto_livedb`.`t_upd_product_deal_link_log` add column `is_sit` int (11) DEFAULT '0' NULL  after `is_updated`;
alter table `snapitto_dblive`.`pnh_m_manifesto_sent_log` add column `hndleby_vehicle_num` varchar (255)  NULL  after `hndleby_contactno`;

ALTER TABLE `snapitto_dblive`.`m_employee_info` ADD COLUMN `is_suspended` TINYINT(11) DEFAULT 0 NOT NULL AFTER `modified_by`, ADD COLUMN `suspended_on` DATETIME NULL AFTER `is_suspended`, ADD COLUMN `suspended_by` BIGINT(255) NULL AFTER `suspended_on`; 

CREATE TABLE `t_process_partialqty_orders` (              
                               `id` bigint(11) NOT NULL AUTO_INCREMENT,                
                               `transid` varchar(50) DEFAULT NULL,                     
                               `oid` bigint(11) DEFAULT '0',                           
                               `new_oid` bigint(11) DEFAULT '0',                       
                               `qty` double DEFAULT NULL,                              
                               `new_qty` double DEFAULT NULL,                          
                               `created_on` datetime DEFAULT NULL,                     
                               `created_by` bigint(11) DEFAULT '0',                    
                               PRIMARY KEY (`id`)                                      
                             );
ALTER TABLE `snapitto_dblive`.`pnh_quotes_deal_link` ADD COLUMN ` new_product`varchar(2555),`np_mrp` INT(255) DEFAULT 0 NULL AFTER `new_product`, ADD COLUMN `np_qty` INT(255) DEFAULT 1 NULL AFTER `np_mrp`, ADD COLUMN `np_quote` INT(255) NULL AFTER `np_qty`;

alter table `pnh_comp_details` add column `bank_name3` varchar (255)  NULL  after `bank_branch_name2`, add column `bank_ac_no3` varchar (255)  NULL  after `bank_name3`, add column `bank_ifsc_code3` varchar (255)  NULL  after `bank_ac_no3`, add column `bank_ac_name3` varchar (255)  NULL  after `bank_ifsc_code3`, add column `bank_branch_name3` varchar (255)  NULL  after `bank_ac_name3`,change `bank_ac_no2` `bank_ac_no2` varchar (40)  NOT NULL  COLLATE latin1_swedish_ci , change `bank_ifsc_code2` `bank_ifsc_code2` varchar (40)  NOT NULL  COLLATE latin1_swedish_ci , change `bank_ac_name2` `bank_ac_name2` varchar (60)  NOT NULL  COLLATE latin1_swedish_ci , change `bank_branch_name2` `bank_branch_name2` varchar (70)  NOT NULL  COLLATE latin1_swedish_ci;
update `pnh_comp_details` set `id`='1',`pan_no`='AACCL2418A',`vat_no`='29230678061',`roc_no`='U51909KA2012PTC063576',`toll_free_no`='18002001996',`sms_no`='9243404342',`bank_name`='KOTAK MAHINDRA BANK',`bank_ac_no`='2211241104',`bank_ifsc_code`='KKBK0000427',`bank_ac_name`='Local Cube Commerce Pvt Ltd',`bank_branch_name`='BANASHANKARI 3rd STAGE',`bank_name2`='ICICI BANK',`bank_ac_no2`='025105006977',`bank_ifsc_code2`=' ICIC0000251',`bank_ac_name2`='Local Cube Commerce Pvt Ltd',`bank_branch_name2`='JAYANAGAR 7th BLOCK',`bank_name3`='HDFC BANK',`bank_ac_no3`='50200000198194',`bank_ifsc_code3`='HDFC0002858',`bank_ac_name3`='Local Cube Commerce Pvt Ltd',`bank_branch_name3`='BANASHANKARI 2nd STAGE' where `id`='1';


ALTER TABLE `snapitto_dblive`.`pnh_sms_log_sent` CHANGE `type` `type` VARCHAR(255) NULL;

ALTER TABLE `snapitto_dblive`.`pnh_sch_discount_track` ADD COLUMN `sch_menu` VARCHAR(2555) NULL AFTER `sch_discount`;  

alter table `snapitto_livedb`.`shipment_batch_process_invoice_link` add column `manifesto_id` int (100)  NULL  after `shipped`
alter table `snapitto_livedb`.`shipment_batch_process_invoice_link` change `manifesto_id` `inv_manifesto_id` int (100) DEFAULT '0' NULL 
alter table `snapitto_livedb`.`pnh_m_manifesto_sent_log` add column `start_meter_rate` varchar (255)  NULL  after `hndleby_vehicle_num`

insert into `user_access_roles`(`id`,`user_role`,`const_name`,`value`) values ( NULL,'MANAGE PARTNER DEAL PRICES','MANAGE_PARTNER_DEAL_PRICES','67108864')
 ALTER TABLE `snapitto_dblive`.`pnh_sch_discount_brands` ADD COLUMN `menuid` BIGINT(20) NULL AFTER `franchise_id`;  
 
ALTER TABLE pnh_t_receipt_info add Column is_deposited tinyint(1) DEFAULT '0' after is_submitted;

CREATE TABLE `m_tray_info` (                             
               `tray_id` int(11) NOT NULL AUTO_INCREMENT,             
               `tray_name` varchar(255) DEFAULT NULL,                 
               PRIMARY KEY (`tray_id`)                                
             ) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=latin1  



alter table `snapitto_livedb`.`shipment_batch_process_invoice_link` add column `tray_id` int (11) DEFAULT '0' NULL  after `courier_id`;
alter table `snapitto_livedb`.`pnh_m_manifesto_sent_log` add column `status` int (10) DEFAULT '1' NULL  COMMENT '1:pending,2:scaned' after `is_printed`;
alter table `snapitto_livedb`.`pnh_m_manifesto_sent_log` add column `remark2` text   NULL  after `remark`;
alter table `snapitto_livedb`.`pnh_m_manifesto_sent_log` add column `shipment_sent_date` datetime   NULL  after `pickup_empid`;
alter table `snapitto_livedb`.`m_tray_info` add column `max_allowed` int (5) DEFAULT '0' NOT NULL  after `tray_name`,change `tray_name` `tray_name` varchar (255)  NOT NULL  COLLATE latin1_swedish_ci ;
alter table `snapitto_livedb`.`pnh_m_manifesto_sent_log` add column `amount` varchar (255)  NULL  after `start_meter_rate`;
alter table `snapitto_livedb`.`shipment_batch_process_invoice_link` add column `outscanned_on` datetime   NULL  after `packed_by`, add column `outscanned_by` bigint (20)  NULL  after `outscanned_on`;

CREATE TABLE `pnh_t_tray_invoice_link` (                 
                           `tray_inv_id` bigint(11) NOT NULL AUTO_INCREMENT,      
                           `tray_terr_id` bigint(11) NOT NULL DEFAULT '0',        
                           `invoice_no` bigint(11) NOT NULL DEFAULT '0',          
                           `status` tinyint(1) NOT NULL DEFAULT '0',              
                           `is_active` tinyint(1) NOT NULL DEFAULT '0',           
                           `modified_on` datetime DEFAULT NULL,                   
                           `modified_by` bigint(11) DEFAULT NULL,                 
                           `created_on` datetime NOT NULL,                        
                           `created_by` bigint(11) NOT NULL,                      
                           PRIMARY KEY (`tray_inv_id`)                            
                         );
  CREATE TABLE `pnh_t_tray_territory_link` (                                                  
                             `tray_terr_id` bigint(11) NOT NULL AUTO_INCREMENT,                                        
                             `tray_id` int(11) NOT NULL,                                                               
                             `territory_id` int(11) NOT NULL,                                                          
                             `max_shipments` int(5) DEFAULT '0',                                                       
                             `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0:Created Not used,1:In-use,2:Filled',  
                             `is_active` tinyint(1) NOT NULL DEFAULT '0' COMMENT '1: Has Shipments,0: No Shipments',   
                             `modified_on` datetime DEFAULT NULL,                                                      
                             `modified_by` bigint(11) DEFAULT NULL,                                                    
                             `created_by` bigint(11) NOT NULL,                                                         
                             `created_on` datetime NOT NULL,                                                           
                             PRIMARY KEY (`tray_terr_id`)                                                              
                           );
alter table `snapitto_livedb`.`shipment_batch_process_invoice_link` add column `outscanned` tinyint (1)  NULL  after `shipped`;
alter table `snapitto_livedb`.`pnh_m_manifesto_sent_log` change `status` `status` int (10) DEFAULT '1' NULL  COMMENT '1:pending,2:scaned,3:shipped';
alter table `snapitto_livedb`.`m_tray_info` add column `modified_on` datetime   NULL  after `max_allowed`, add column `modified_by` int (100)  NULL  after `modified_on`, add column `created_on` datetime   NULL  after `modified_by`, add column `created_by` int (100)  NULL  after `created_on`;

CREATE TABLE `pnh_transporter_info` (        
                        `id` bigint(100) NOT NULL AUTO_INCREMENT,  
                        `name` varchar(255) DEFAULT NULL,          
                        `address` text,                            
                        `city` varchar(255) DEFAULT NULL,          
                        `pincode` varchar(255) DEFAULT NULL,        
                        `contact_no` varchar(255) DEFAULT NULL,    
                        `active` int(10) DEFAULT NULL,             
                        `modified_on` datetime DEFAULT NULL,       
                        `modified_by` int(10) DEFAULT NULL,        
                        `created_on` datetime DEFAULT NULL,        
                        `created_by` int(10) DEFAULT NULL,         
                        PRIMARY KEY (`id`)                         
                      );
CREATE TABLE `pnh_m_deposited_receipts` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `deposited_reference_no` bigint(15) DEFAULT NULL,
  `bank_id` int(10) DEFAULT NULL,
  `receipt_id` bigint(255) DEFAULT NULL,
  `is_submitted` tinyint(1) DEFAULT NULL,
  `is_deposited` tinyint(1) DEFAULT '0',
  `status` tinyint(1) DEFAULT NULL,
  `remarks` varchar(2555) DEFAULT NULL,
  `is_cancelled` tinyint(1) DEFAULT '0',
  `cancel_status` tinyint(1) DEFAULT '0',
  `cancel_reason` varchar(2555) DEFAULT NULL,
  `cancelled_on` datetime DEFAULT NULL,
  `dbt_amt` double DEFAULT NULL,
  `submitted_by` bigint(12) DEFAULT NULL,
  `submitted_on` varchar(25) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ;

CREATE TABLE `pnh_transporter_dest_address` (  
                                `id` bigint(100) NOT NULL AUTO_INCREMENT,    
                                `transpoter_id` binary(100) DEFAULT NULL,    
                                `short_name` varchar(255) DEFAULT NULL,      
                                `address` text,                              
                                `city` varchar(255) DEFAULT NULL,            
                                `pincode` bigint(100) DEFAULT NULL,           
                                `contact_no` bigint(100) DEFAULT NULL,       
                                `active` int(10) DEFAULT NULL,               
                                `modified_on` datetime DEFAULT NULL,         
                                `modified_by` int(10) DEFAULT NULL,          
                                `created_on` datetime DEFAULT NULL,          
                                `created_by` int(10) DEFAULT NULL,           
                                PRIMARY KEY (`id`)                           
                              );
alter table `snapitto_livedb4`.`pnh_m_manifesto_sent_log` add column `bus_id` int (100)  NULL  after `hndleby_contactno`, add column `bus_destination` int (100)  NULL  after `bus_id`;

ALTER TABLE `pnh_t_receipt_info` ADD COLUMN is_submitted BIGINT(20) NULL BEFORE activated_on;
ALTER TABLE `shipment_batch_process` ADD COLUMN `process_type` int(1) default 0 AFTER `num_orders`; 
insert into `user_access_roles`(`user_role`,`const_name`,`value`) values ('pnh shipment manager','PNH_SHIPMENT_MANAGER','134217728');
insert into `user_access_roles`(`user_role`,`const_name`,`value`) values ('Pnh invoice pack','PNH_INVOICE_PACK','268435456') ;

CREATE TABLE `pnh_m_uploaded_depositedslips` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `deposited_reference_no` bigint(11) DEFAULT NULL,
  `receipt_ids` varchar(20554) DEFAULT NULL,
  `scanned_url` varchar(255) DEFAULT NULL,
  `is_deposited` int(11) DEFAULT NULL,
  `remarks` varchar(2055) DEFAULT NULL,
  `uploaded_by` int(11) DEFAULT NULL,
  `uploaded_on` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
);

alter table `snapitto_livedb4`.`pnh_employee_grpsms_log` add column `territory_id` int (11)  NULL  after `type`, add column `town_id` int (11)  NULL  after `territroy_id`;
alter table `snapitto_livedb4`.`pnh_m_manifesto_sent_log` add column `lrno` bigint (20)  NULL  after `bus_destination`;
alter table `snapitto_livedb4`.`pnh_m_manifesto_sent_log` add column `lrn_updated_on` datetime   NULL  after `shipment_sent_date`;
alter table `snapitto_livedb4`.`pnh_transporter_info` add column `allowed_transport` varchar (255)  NULL  COMMENT '1:bus,2:Cargo,3:Gp' after `contact_no`;
alter table `snapitto_livedb4`.`pnh_transporter_dest_address` add column `type` int (10)  NULL  after `active`;
alter table `snapitto_livedb4`.`pnh_transporter_dest_address` change `contact_no` `contact_no` varchar (255)  NULL ;
insert into `m_employee_roles`(`role_id`,`role_name`,`short_frm`,`created_on`,`created_by`) values ( NULL,'Office Pickup','OP',NULL,NULL);
alter table `snapitto_livedb4`.`pnh_m_manifesto_sent_log` add column `office_pickup_empid` varchar (255)  NULL  after `pickup_empid`


alter table `snapitto_livedb6`.`pnh_executive_accounts_log` add column `instrument_no` varchar (50)  NULL  after `msg`, add column `is_instrument_rcvd` tinyint (1) DEFAULT '0' NULL  after `instrument_no`, add column `instrument_rcvd_on` datetime   NULL  after `is_instrument_rcvd`

ALTER TABLE `snapitto_dblive`.`pnh_t_receipt_info` ADD COLUMN `in_transit` INT(11) NULL AFTER `status`; 
alter table `snapitto_livedb4`.`pnh_transporter_dest_address` add column `dest_addr_unqid` int (11)  NULL  after `type`

CREATE TABLE `pnh_deliveryhub` (                         
                   `id` int(11) NOT NULL AUTO_INCREMENT,                  
                   `hub_name` varchar(255) DEFAULT NULL,                  
                   `created_on` datetime DEFAULT NULL,                    
                   `created_by` int(11) DEFAULT NULL,                     
                   `modified_on` datetime DEFAULT NULL,                   
                   `modified_by` int(11) DEFAULT NULL,                    
                   PRIMARY KEY (`id`)                                     
                 );

CREATE TABLE `pnh_deliveryhub_town_link` (                
                             `id` int(11) NOT NULL AUTO_INCREMENT,                   
                             `hub_id` int(11) DEFAULT '0',                           
                             `town_id` int(11) DEFAULT '0',                          
                             `is_active` tinyint(1) DEFAULT '1',                     
                             `created_on` datetime DEFAULT NULL,                     
                             `created_by` int(11) DEFAULT NULL,                      
                             `modified_on` datetime DEFAULT NULL,                    
                             `modified_by` int(11) DEFAULT NULL,                     
                             PRIMARY KEY (`id`)                                      
                           );


alter table `snapitto_livedb4`.`pnh_m_manifesto_sent_log` add column `hndlby_type` int (11) DEFAULT '0' NULL  COMMENT '1:driver,2:fright-cordinator,3:bus transport,4:courier' after `remark2`, add column `hndleby_courier_id` int (11) DEFAULT '0' NULL  after `hndleby_empid`

CREATE TABLE `pnh_super_scheme` (
  `id` bigint(11) unsigned NOT NULL AUTO_INCREMENT,
  `franchise_id` bigint(11) DEFAULT NULL,
  `schme_discount_id` bigint(11) DEFAULT NULL,
  `menu_id` bigint(11) DEFAULT NULL,
  `cat_id` bigint(15) DEFAULT NULL,
  `brand_id` bigint(15) DEFAULT NULL,
  `target_value` double DEFAULT NULL,
  `credit_prc` double DEFAULT NULL,
  `valid_from` date DEFAULT NULL,
  `valid_to` date DEFAULT NULL,
  `is_active` int(11) DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  `created_on` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`)
);
// Related super scheme & scheme discount

ALTER TABLE `snapitto_dblive`.`pnh_sch_discount_track` ADD COLUMN `sch_type` TINYINT(11) NULL AFTER `sch_discount`; 

ALTER TABLE `snapitto_dblive`.`pnh_super_scheme` CHANGE `valid_from` `valid_from` BIGINT NULL, CHANGE `valid_to` `valid_to` BIGINT NULL; 

ALTER TABLE `snapitto_dblive`.`pnh_sch_discount_brands` ADD COLUMN `sch_type` TINYINT(11) NULL AFTER `franchise_id`; 

CREATE TABLE `menu_class_config` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `menu_id` bigint(20) DEFAULT NULL,
  `class_id` int(11) DEFAULT NULL,
  `percentage` double DEFAULT NULL,
  `is_active` tinyint(4) DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  `created_on` bigint(20) DEFAULT NULL,
  `modified_on` bigint(20) DEFAULT NULL,
  `modified_by` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
);

 ALTER TABLE `snapitto_dblive`.`pnh_special_margin_deals` ADD COLUMN `is_active` TINYINT(11) NULL AFTER `to`; 
 
 ALTER TABLE `snapitto_dblive`.`m_employee_info` ADD COLUMN `remarks` VARCHAR(255) NULL AFTER `suspended_by`; 
 
 ALTER TABLE `snapitto_dblive`.`pnh_menu` ADD COLUMN `default_margin` DOUBLE NULL AFTER `status`; 
 
 ALTER TABLE `snapitto_dblive`.`pnh_sch_discount_brands` ADD COLUMN `modified_on` BIGINT(20) NULL AFTER `created_on`, ADD COLUMN `modified_by` INT(10) NULL AFTER `modified_on`; 
 
 alter table pnh_m_manifesto_sent_log add column transport_type tinyint(1) default 0 after bus_destination;
 
alter table `pnh_transporter_dest_address` change `type` `type` varchar (255)  NULL;

CREATE TABLE `pnh_deliveryhub_fc_link` (                  
                           `id` int(11) NOT NULL AUTO_INCREMENT,                   
                           `hub_id` int(11) DEFAULT '0',                           
                           `emp_id` int(11) DEFAULT '0',                           
                           `is_active` tinyint(1) DEFAULT '0',                     
                           `created_on` datetime DEFAULT NULL,                     
                           `created_by` int(11) DEFAULT NULL,                      
                           `modified_on` datetime DEFAULT NULL,                    
                           `modified_by` int(11) DEFAULT NULL,                     
                           PRIMARY KEY (`id`)                                      
                         );
                         
 alter table `snapitto_livedb4`.`pnh_employee_grpsms_log` change `type` `type` varchar (255)  NULL  COLLATE latin1_swedish_ci  COMMENT '4:shipments_notification,6:lr_number_updates,8:pickup_manifesto,9:hand_over_to_executive,10:delivery,'
 
 update pnh_menu set status= 0 where id in(103,108,120);
 
 alter table `shipment_batch_process_invoice_link` add index `inv_manifesto_id` (`inv_manifesto_id`)
	
 CREATE TABLE `pnh_superscheme_deals` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `menuid` bigint(11) DEFAULT NULL,
  `itemid` bigint(11) DEFAULT NULL,
  `valid_from` bigint(11) DEFAULT '0',
  `valid_to` bigint(11) DEFAULT '0',
  `is_active` tinyint(11) DEFAULT '1',
  `created_by` int(11) DEFAULT NULL,
  `reason` varchar(255) DEFAULT NULL,
  `created_on` bigint(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
);

ALTER TABLE `snapitto_dblive`.`king_orders` ADD COLUMN `super_scheme_logid` INT(11) DEFAULT 0 NULL AFTER `has_super_scheme`, CHANGE `superscheme_processed` `super_scheme_processed` INT(11) DEFAULT 0 NULL; 
alter table `m_employee_info` add column `send_sms` int (1) DEFAULT '1' NULL  after `cv_url`;
alter table `pnh_invoice_transit_log` add column `received_by` varchar (255)  NULL  after `status`, add column `received_on` datetime   NULL  after `received_by`, add column `contact_no` varchar (255)  NULL  after `received_on`;
alter table `pnh_invoice_transit_log` change `status` `status` int (2) DEFAULT '0' NULL  COMMENT '1:in-transit,2:pickup or hand-over,3:delivered,4:return'

alter table `pnh_employee_grpsms_log` change `type` `type` varchar (255)  NULL  COLLATE latin1_swedish_ci  COMMENT '4:shipments_notification,6:lr_number_updates,8:pickup_manifesto,9:hand_over_to_executive,10:delivery,11:invoice return'



CREATE TABLE `pnh_invoice_returns` (                      
                       `return_id` bigint(11) NOT NULL AUTO_INCREMENT,         
                       `invoice_no` varchar(50) DEFAULT NULL,                  
                       `return_by` varchar(255) DEFAULT NULL,                  
                       `handled_by` bigint(11) DEFAULT NULL,                   
                       `total_items` int(11) DEFAULT '0',                      
                       `status` tinyint(1) DEFAULT '0',                        
                       `returned_on` datetime DEFAULT NULL,                    
                       PRIMARY KEY (`return_id`)                               
                     );
CREATE TABLE `pnh_invoice_returns_product_link` (                                                                                                                                          
                                    `id` bigint(11) NOT NULL AUTO_INCREMENT,                                                                                                                                                 
                                    `return_id` bigint(11) DEFAULT '0',                                                                                                                                                      
                                    `order_id` bigint(11) DEFAULT '0',                                                                                                                                                       
                                    `product_id` bigint(11) DEFAULT '0',                                                                                                                                                     
                                    `qty` double DEFAULT '0',                                                                                                                                                                
                                    `barcode` varchar(100) DEFAULT NULL,                                                                                                                                                     
                                    `imei_no` varchar(100) DEFAULT NULL,                                                                                                                                                     
                                    `condition_type` int(1) DEFAULT '0' COMMENT '1: ''Good Condition'' 2:''Duplicate product'' 3:''UnOrdered'' 4:''Late Shipment'' 5:''Address not found'' 6:''Faulty and needs service''',  
                                    `is_shipped` tinyint(1) DEFAULT '0',                                                                                                                                                     
                                    `is_packed` tinyint(1) DEFAULT '0',                                                                                                                                                      
                                    `readytoship` tinyint(1) DEFAULT '0',                                                                                                                                                    
                                    `is_stocked` tinyint(1) DEFAULT '0',                                                                                                                                                     
                                    `is_refunded` tinyint(1) DEFAULT '0',                                                                                                                                                    
                                    `shipped_on` datetime DEFAULT NULL,                                                                                                                                                      
                                    `stock_updated_on` datetime DEFAULT NULL,                                                                                                                                                
                                    `refunded_on` datetime DEFAULT NULL,                                                                                                                                                     
                                    `status` tinyint(1) DEFAULT '0',                                                                                                                                                         
                                    `created_on` datetime DEFAULT NULL,                                                                                                                                                      
                                    `modified_on` datetime DEFAULT NULL,                                                                                                                                                     
                                    PRIMARY KEY (`id`)                                                                                                                                                                       
                                  ) ;

CREATE TABLE `pnh_invoice_returns_product_service` (      
                                       `id` bigint(11) NOT NULL AUTO_INCREMENT,                
                                       `return_prod_id` bigint(11) DEFAULT NULL,               
                                       `sent_on` datetime DEFAULT NULL,                        
                                       `sent_to` varchar(255) DEFAULT NULL,                    
                                       `expected_dod` date DEFAULT NULL,                       
                                       `is_serviced` tinyint(1) DEFAULT '0',                   
                                       `service_return_on` datetime DEFAULT NULL,              
                                       `created_on` datetime DEFAULT NULL,                     
                                       `created_by` bigint(11) DEFAULT NULL,                   
                                       PRIMARY KEY (`id`)                                      
                                     );

CREATE TABLE `pnh_invoice_returns_remarks` (               
                               `id` int(11) NOT NULL AUTO_INCREMENT,                    
                               `return_prod_id` bigint(11) DEFAULT '0',                 
                               `product_status` int(11) DEFAULT '0',                    
                               `remarks` text,                                          
                               `parent_id` bigint(11) DEFAULT '0',                      
                               `created_by` bigint(11) DEFAULT '0',                     
                               `created_on` datetime DEFAULT NULL,                      
                               PRIMARY KEY (`id`)                                       
                             );

alter table `pnh_t_tray_invoice_link` change `status` `status` tinyint (1) DEFAULT '0' NOT NULL  COMMENT '1:invoice in tray,2:invoice out of tray'


/** Merge DB Changes **/
alter table king_orders add column `super_scheme_logid` int(11) DEFAULT '0' after has_super_scheme;
alter table king_orders add column `super_scheme_processed` tinyint(1) DEFAULT '0' after super_scheme_cashback;
alter table m_employee_info add column `send_sms` int(1) DEFAULT '1' after cv_url;
alter table pnh_deliveryhub add column `is_active` tinyint(1) DEFAULT '0' after modified_by;
alter table pnh_employee_grpsms_log change `type` `type` varchar(255) DEFAULT NULL COMMENT '4:shipments_notification,6:lr_number_updates,8:pickup_manifesto,9:hand_over_to_executive,10:delivery,11:invoice return';


CREATE TABLE `pnh_invoice_returns` (
  `return_id` bigint(11) NOT NULL AUTO_INCREMENT,
  `invoice_no` varchar(50) DEFAULT NULL,
  `return_by` varchar(255) DEFAULT NULL,
  `handled_by` bigint(11) DEFAULT NULL,
  `total_items` int(11) DEFAULT '0',
  `status` tinyint(1) DEFAULT '0',
  `returned_on` datetime DEFAULT NULL,
  PRIMARY KEY (`return_id`)
);


CREATE TABLE `pnh_invoice_returns_product_link` (
  `id` bigint(11) NOT NULL AUTO_INCREMENT,
  `return_id` bigint(11) DEFAULT '0',
  `order_id` bigint(11) DEFAULT '0',
  `product_id` bigint(11) DEFAULT '0',
  `qty` double DEFAULT '0',
  `barcode` varchar(100) DEFAULT NULL,
  `imei_no` varchar(100) DEFAULT NULL,
  `condition_type` int(1) DEFAULT '0' COMMENT '1: ''Good Condition'' 2:''Duplicate product'' 3:''UnOrdered'' 4:''Late Shipment'' 5:''Address not found'' 6:''Faulty and needs service''',
  `is_shipped` tinyint(1) DEFAULT '0',
  `is_packed` tinyint(1) DEFAULT '0',
  `readytoship` tinyint(1) DEFAULT '0',
  `is_stocked` tinyint(1) DEFAULT '0',
  `is_refunded` tinyint(1) DEFAULT '0',
  `shipped_on` datetime DEFAULT NULL,
  `stock_updated_on` datetime DEFAULT NULL,
  `refunded_on` datetime DEFAULT NULL,
  `status` tinyint(1) DEFAULT '0',
  `created_on` datetime DEFAULT NULL,
  `modified_on` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
);


CREATE TABLE `pnh_invoice_returns_product_service` (
  `id` bigint(11) NOT NULL AUTO_INCREMENT,
  `return_prod_id` bigint(11) DEFAULT NULL,
  `sent_on` datetime DEFAULT NULL,
  `sent_to` varchar(255) DEFAULT NULL,
  `expected_dod` date DEFAULT NULL,
  `is_serviced` tinyint(1) DEFAULT '0',
  `service_return_on` datetime DEFAULT NULL,
  `created_on` datetime DEFAULT NULL,
  `created_by` bigint(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
);


CREATE TABLE `pnh_invoice_returns_remarks` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `return_prod_id` bigint(11) DEFAULT '0',
  `product_status` int(11) DEFAULT '0',
  `remarks` text,
  `parent_id` bigint(11) DEFAULT '0',
  `created_by` bigint(11) DEFAULT '0',
  `created_on` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
);

alter table `pnh_m_manifesto_sent_log` add column `alternative_contactno` varchar (255)  NULL  after `hndleby_contactno`
alter table `shipment_batch_process_invoice_link` add column `is_acknowleged` tinyint (1) DEFAULT '0' NULL  after `inv_manifesto_id`, add column `is_acknowleged_by` int (11)  NULL  after `shipped_on`, add column `is_acknowleged_on` datetime   NULL  after `is_acknowleged_by`;


CREATE TABLE `t_invoice_credit_notes` (                  
                          `id` bigint(11) NOT NULL AUTO_INCREMENT,               
                          `franchise_id` bigint(11) DEFAULT '0',                 
                          `invoice_no` bigint(11) DEFAULT '0',                   
                          `amount` double DEFAULT '0',                           
                          `created_on` datetime DEFAULT NULL,                    
                          `created_by` int(11) DEFAULT NULL,                     
                          PRIMARY KEY (`id`)                                     
                        );

 CREATE TABLE `m_brand_config_map_price` (                                                                                       
                            `id` int(11) NOT NULL AUTO_INCREMENT,                                                                                         
                            `menuid` int(11) DEFAULT '0',                                                                                                 
                            `brandid` bigint(11) DEFAULT '0',                                                                                             
                            `is_active` tinyint(1) DEFAULT '0',                                                                                           
                            `created_on` datetime DEFAULT NULL,                                                                                           
                            `created_by` int(11) DEFAULT NULL,                                                                                            
                            `modified_on` datetime DEFAULT NULL,                                                                                          
                            `modified_by` int(11) DEFAULT NULL,                                                                                           
                            PRIMARY KEY (`id`)                                                                                                            
                          ) ENGINE=MyISAM COMMENT='Table to configure minimum applicable price to be considered' ;

alter table king_invoice add column credit_note_id bigint(11) default 0 after nlc,add column credit_note_amt double default 0 after credit_note_id;

alter table t_invoice_credit_notes add column is_active tinyint(1) default 1 after amount ; 
alter table t_invoice_credit_notes add column modified_on datetime after  created_on,add column modified_by int(11) default 0 after  created_by;


CREATE TABLE `imei_m_scheme` (                           
                 `id` int(11) NOT NULL AUTO_INCREMENT,                  
                 `franchise_id` bigint(11) DEFAULT NULL,                
                 `menuid` bigint(11) DEFAULT NULL,                      
                 `categoryid` bigint(20) DEFAULT NULL,                  
                 `brandid` bigint(20) DEFAULT NULL,                     
                 `scheme_type` tinyint(11) DEFAULT NULL,                
                 `credit_value` double(10,2) DEFAULT NULL,              
                 `scheme_from` bigint(20) DEFAULT NULL,                 
                 `scheme_to` bigint(20) DEFAULT NULL,                   
                 `sch_apply_from` bigint(20) DEFAULT NULL,              
                 `created_on` bigint(20) DEFAULT NULL,                  
                 `created_by` int(11) DEFAULT NULL,                     
                 `modified_on` bigint(20) DEFAULT NULL,                 
                 `modified_by` tinyint(11) DEFAULT NULL,                
                 `is_active` tinyint(11) DEFAULT NULL,                  
                 PRIMARY KEY (`id`)                                     
               );


alter TABLE `t_imei_no`                                   
             add column `is_imei_activated` tinyint(1) DEFAULT '0' after order_id,               
             add column `imei_activated_on` datetime DEFAULT NULL after is_imei_activated,                
             add column `activated_by` int(11) DEFAULT '0' after imei_activated_on,                       
             add column `activated_mob_no` varchar(20) DEFAULT NULL after activated_by,              
             add column `activated_member_id` int(11) DEFAULT '0' after activated_mob_no,                
             add column `ref_credit_note_id` bigint(11) DEFAULT '0' after activated_member_id;


alter TABLE `king_orders` 
               add column `imei_reimbursement_value_perunit` double(10,2) DEFAULT '0.00' after super_scheme_processed,                 
               add column `imei_scheme_id` bigint(20) DEFAULT '0' after imei_reimbursement_value_perunit,                                        
               add column `member_scheme_processed` tinyint(11) DEFAULT '0' after imei_scheme_id;

alter table t_invoice_credit_notes add column is_active tinyint(1) default 0 after amount;


alter table `t_invoice_credit_notes` 
		add column `type` tinyint (1) DEFAULT '1' NULL  COMMENT '1:Invoice,2:IMEI Scheme' after `id`, 
		add column `ref_id` bigint (11) DEFAULT '0' NULL  after `is_active`;

alter table pnh_franchise_account_summary add column ref_credit_note_id bigint(11) default 0 after invoice_no;
alter table pnh_franchise_account_summary change ref_credit_note_id credit_note_id bigint(11) default 0 ;


//knock mmeber scheme 
 CREATE TABLE `snapitto_dblive`.`pnh_membersch_deals`( `id` INT(11) NOT NULL AUTO_INCREMENT, `menuid` INT(11), `itemid` BIGINT(20), `valid_from` BIGINT(11), `valid_to` BIGINT(11), `created_by` INT(11) DEFAULT 0, `created_on` BIGINT DEFAULT 20, PRIMARY KEY (`id`) ); 
 ALTER TABLE `snapitto_dblive`.`pnh_membersch_deals` ADD COLUMN `is_active` TINYINT(11) NULL AFTER `itemid`; 
//PREPAID VOUCHER--START
 
 CREATE TABLE `pnh_prepaid_menu_config` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `menu_id` int(10) DEFAULT NULL,
  `menu_margin` double DEFAULT '0',
  `is_active` int(1) DEFAULT '1',
  `created_by` int(10) DEFAULT NULL,
  `created_on` datetime DEFAULT NULL,
  `modified_by` int(10) DEFAULT NULL,
  `modified_on` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
);

CREATE TABLE `pnh_voucher_activity_log` (
  `id` bigint(11) unsigned NOT NULL AUTO_INCREMENT,
  `voucher_slno` bigint(11) DEFAULT '0',
  `franchise_id` bigint(20) DEFAULT '0',
  `member_id` bigint(20) DEFAULT '0',
  `transid` varchar(255) DEFAULT NULL,
  `debit` double DEFAULT '0',
  `credit` double DEFAULT '0',
  `order_ids` varchar(255) DEFAULT '0',
  `status` tinyint(4) DEFAULT '0',
  PRIMARY KEY (`id`)
);

CREATE TABLE `t_pending_voucher_info` (
  `voucher_id` int(11) NOT NULL AUTO_INCREMENT,
  `voucher_type_id` int(11) DEFAULT '1' COMMENT '1: Payment Voucher, 2: Receipt Voucher',
  `voucher_date` datetime DEFAULT NULL,
  `voucher_value` double unsigned DEFAULT NULL,
  `payment_mode` tinyint(1) DEFAULT '0' COMMENT '1-Cash, 2-Cheque, 3-DD, 4-Bank Transfers',
  `instrument_no` varchar(20) DEFAULT NULL,
  `instrument_date` datetime DEFAULT NULL,
  `instrument_issued_bank` varchar(200) DEFAULT NULL,
  `narration` varchar(500) DEFAULT NULL,
  `active_status` tinyint(1) DEFAULT '1',
  `is_reveresed` tinyint(1) DEFAULT '0',
  `created_by` int(11) DEFAULT '0',
  `created_on` datetime DEFAULT NULL,
  `modified_by` int(11) DEFAULT '0',
  `modified_on` datetime DEFAULT NULL,
  PRIMARY KEY (`voucher_id`)
);

CREATE TABLE `t_pending_voucher_document_link` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `voucher_id` int(11) DEFAULT NULL,
  `adjusted_amount` double unsigned DEFAULT NULL,
  `ref_doc_id` int(11) DEFAULT NULL,
  `ref_doc_type` tinyint(1) DEFAULT '1' COMMENT '1: GRN, 2: PO',
  `created_by` int(11) DEFAULT NULL,
  `created_on` datetime DEFAULT NULL,
  `modified_by` int(11) DEFAULT NULL,
  `modified_on` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
);

CREATE TABLE `t_voucher_document_link` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `voucher_id` int(11) DEFAULT NULL,
  `adjusted_amount` double unsigned DEFAULT NULL,
  `ref_doc_id` int(11) DEFAULT NULL,
  `ref_doc_type` tinyint(1) DEFAULT '1' COMMENT '1: GRN, 2: PO',
  `created_by` int(11) DEFAULT NULL,
  `created_on` datetime DEFAULT NULL,
  `modified_by` int(11) DEFAULT NULL,
  `modified_on` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
);

CREATE TABLE `t_voucher_info` (
  `voucher_id` int(11) NOT NULL AUTO_INCREMENT,
  `voucher_type_id` int(11) DEFAULT '1' COMMENT '1: Payment Voucher, 2: Receipt Voucher',
  `voucher_date` datetime DEFAULT NULL,
  `voucher_value` double unsigned DEFAULT NULL,
  `payment_mode` tinyint(1) DEFAULT '0' COMMENT '1-Cash, 2-Cheque, 3-DD, 4-Bank Transfers',
  `instrument_no` varchar(20) DEFAULT NULL,
  `instrument_date` datetime DEFAULT NULL,
  `instrument_issued_bank` varchar(200) DEFAULT NULL,
  `narration` varchar(500) DEFAULT NULL,
  `active_status` tinyint(1) DEFAULT '1',
  `is_reveresed` tinyint(1) DEFAULT '0',
  `created_by` int(11) DEFAULT '0',
  `created_on` datetime DEFAULT NULL,
  `modified_by` int(11) DEFAULT '0',
  `modified_on` datetime DEFAULT NULL,
  PRIMARY KEY (`voucher_id`)
);

CREATE TABLE `pnh_t_voucher_details` (
  `id` bigint(11) NOT NULL AUTO_INCREMENT,
  `voucher_id` int(11) DEFAULT NULL,
  `voucher_serial_no` bigint(12) NOT NULL,
  `voucher_code` bigint(14) NOT NULL,
  `value` double NOT NULL,
  `voucher_margin` double DEFAULT NULL,
  `customer_value` double(10,2) DEFAULT NULL,
  `franchise_value` double(10,2) DEFAULT NULL,
  `last_redeemed_on` datetime DEFAULT NULL,
  `franchise_id` bigint(11) DEFAULT NULL,
  `member_id` bigint(8) DEFAULT NULL,
  `status` tinyint(11) DEFAULT '0' COMMENT '0:pending,1:voucher_linked_to_book,2:Allloted to franchise,3:Activated,4:partailly Redeemed,5:Fully Reddemed,6:Cancelled,',
  `assigned_on` datetime DEFAULT NULL,
  `assigned_by` int(11) DEFAULT NULL,
  `is_alloted` int(1) DEFAULT '0',
  `alloted_on` datetime DEFAULT NULL,
  `is_activated` int(1) DEFAULT '0',
  `activated_on` datetime DEFAULT NULL,
  `redeemed_on` datetime DEFAULT NULL,
  `created_on` datetime DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`,`voucher_serial_no`)
);

CREATE TABLE `pnh_t_book_allotment` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `allotment_id` bigint(11) DEFAULT '0',
  `book_id` bigint(11) DEFAULT NULL,
  `franchise_id` bigint(20) DEFAULT NULL,
  `margin` double DEFAULT '0',
  `status` tinyint(11) DEFAULT '0' COMMENT '1:assigned to franchise,2:payed and activated,3:returned'', pnh_t_book_allotment',
  PRIMARY KEY (`id`)
);

CREATE TABLE `pnh_t_book_details` (
  `book_id` bigint(20) NOT NULL AUTO_INCREMENT,
  `book_template_id` int(11) DEFAULT NULL,
  `book_si_no` bigint(20) DEFAULT NULL,
  `book_value` int(11) DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  `created_on` datetime DEFAULT NULL,
  PRIMARY KEY (`book_id`)
);

CREATE TABLE `pnh_t_book_receipt_link` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `book_id` bigint(11) DEFAULT '0',
  `receipt_id` bigint(11) DEFAULT NULL,
  `franchise_id` bigint(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
);

CREATE TABLE `pnh_t_book_voucher_link` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `book_id` bigint(20) DEFAULT NULL,
  `voucher_slno` bigint(20) DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  `created_on` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
);

 //PREPAID VOUCHER--END
 
 //franchise suspension log
 
 CREATE TABLE `franchise_suspension_log` (
  `id` bigint(11) NOT NULL AUTO_INCREMENT,
  `franchise_id` bigint(11) DEFAULT '0',
  `suspension_type` tinyint(3) DEFAULT '0',
  `reason` varchar(25555) DEFAULT NULL,
  `suspended_on` bigint(11) DEFAULT '0',
  `suspended_by` int(11) DEFAULT '0',
  PRIMARY KEY (`id`)
);

ALTER TABLE `pnh_m_franchise_info` ADD COLUMN reason VARCHAR(2555) DEFAULT NULL after suspended_by;

alter table `king_transactions` add column `voucher_payment` tinyint (3) DEFAULT '0' NULL  after `mode`

//---------coupon module-------------------
alter table `pnh_menu` add column `is_prepaid` int (2) DEFAULT '0' NULL  after `default_margin`

CREATE TABLE `pnh_prepaid_menu_config` (    
                           `id` bigint(20) NOT NULL AUTO_INCREMENT,  
                           `menu_id` int(10) DEFAULT NULL,           
                           `menu_margin` double DEFAULT '0',         
                           `is_active` int(1) DEFAULT '1',           
                           `created_by` int(10) DEFAULT NULL,        
                           `created_on` datetime DEFAULT NULL,       
                           `modified_by` int(10) DEFAULT NULL,       
                           `modified_on` datetime DEFAULT NULL,      
                           PRIMARY KEY (`id`)                        
                         )
                         
alter table `snapitto_livedb5`.`pnh_t_receipt_info` add column `unreconciliation_amount` double  DEFAULT '0' NULL  after `receipt_amount`

CREATE TABLE `pnh_m_book_template` (                             
                       `book_template_id` bigint(20) NOT NULL AUTO_INCREMENT,         
                       `book_type_name` varchar(255) DEFAULT NULL,                    
                       `value` int(10) DEFAULT NULL,                                  
                       `product_id` varchar(255) DEFAULT NULL,                        
                       `is_active` int(1) DEFAULT '1' COMMENT '1:active,0:inactive',  
                       `created_by` int(10) DEFAULT NULL,                             
                       `created_on` datetime DEFAULT NULL,                            
                       PRIMARY KEY (`book_template_id`)                               
                     );

CREATE TABLE `pnh_m_book_template_voucher_link` (         
                                    `id` bigint(20) NOT NULL AUTO_INCREMENT,                
                                    `book_template_id` bigint(20) DEFAULT NULL,             
                                    `voucher_id` bigint(20) DEFAULT NULL,                   
                                    `no_of_voucher` int(10) DEFAULT NULL,                   
                                    `is_active` int(1) DEFAULT '1',                         
                                    `created_by` int(10) DEFAULT NULL,                      
                                    `created_on` datetime DEFAULT NULL,                     
                                    PRIMARY KEY (`id`)                                      
                                  );

CREATE TABLE `pnh_m_voucher` (                           
                 `voucher_id` bigint(20) NOT NULL AUTO_INCREMENT,       
                 `voucher_name` varchar(255) DEFAULT NULL,              
                 `denomination` int(11) DEFAULT NULL,                   
                 `created_by` int(10) DEFAULT NULL,                     
                 `created_on` datetime DEFAULT NULL,                    
                 PRIMARY KEY (`voucher_id`)                             
               ) ;
CREATE TABLE `pnh_t_book_allotment` (                                                              
                        `id` int(11) unsigned NOT NULL AUTO_INCREMENT,                                                   
                        `allotment_id` bigint(11) DEFAULT '0',                                                           
                        `book_id` bigint(11) DEFAULT NULL,                                                               
                        `franchise_id` bigint(20) DEFAULT NULL,                                                          
                        `status` int(5) DEFAULT '0' COMMENT '1:assigned to franchise,2:payed and activated,3:returned',  
                        `margin` double DEFAULT '0',                                                                     
                        `created_on` datetime DEFAULT NULL,                                                              
                        `created_by` int(11) DEFAULT NULL,                                                               
                        PRIMARY KEY (`id`)                                                                               
                      );
CREATE TABLE `pnh_t_book_details` (                      
                      `book_id` bigint(20) NOT NULL AUTO_INCREMENT,          
                      `book_template_id` int(11) DEFAULT NULL,               
                      `book_slno` varchar(255) DEFAULT NULL,                 
                      `book_value` int(11) DEFAULT '0',                      
                      `created_by` int(11) DEFAULT NULL,                     
                      `created_on` datetime DEFAULT NULL,                    
                      PRIMARY KEY (`book_id`)                                
                    );
 CREATE TABLE `pnh_t_book_receipt_link` (                 
                           `id` bigint(20) NOT NULL AUTO_INCREMENT,               
                           `book_id` bigint(20) DEFAULT NULL,                     
                           `receipt_id` bigint(20) DEFAULT NULL,                  
                           `franchise_id` bigint(20) DEFAULT NULL,                
                           `adjusted_value` double DEFAULT '0',                   
                           `created_by` int(11) DEFAULT NULL,                     
                           `created_on` datetime DEFAULT NULL,                    
                           PRIMARY KEY (`id`)                                     
                         );
 CREATE TABLE `pnh_t_book_voucher_link` (                  
                           `id` bigint(20) NOT NULL AUTO_INCREMENT,                
                           `book_id` bigint(20) DEFAULT NULL,                      
                           `voucher_slno_id` bigint(20) DEFAULT NULL,              
                           `created_by` int(11) DEFAULT NULL,                      
                           `created_on` datetime DEFAULT NULL,                     
                           PRIMARY KEY (`id`)                                      
 
                         );   
                         
CREATE TABLE `pnh_voucher_activity_log` (                 
                            `id` bigint(11) unsigned NOT NULL AUTO_INCREMENT,       
                            `voucher_slno` bigint(11) DEFAULT '0',                  
                            `franchise_id` bigint(20) DEFAULT '0',                  
                            `member_id` bigint(20) DEFAULT '0',                     
                            `transid` varchar(255) DEFAULT NULL,                    
                            `debit` double DEFAULT '0',                             
                            `credit` double DEFAULT '0',                            
                            `order_ids` varchar(255) DEFAULT '0',                   
                            `status` tinyint(4) DEFAULT '0',                        
                            PRIMARY KEY (`id`)                                      
                          );
insert  into `pnh_m_voucher`(`voucher_id`,`voucher_name`,`denomination`,`created_by`,`created_on`) values (1,'Rs 100',100,NULL,NULL);
insert  into `pnh_m_voucher`(`voucher_id`,`voucher_name`,`denomination`,`created_by`,`created_on`) values (2,'Rs 300',300,NULL,NULL);
insert  into `pnh_m_voucher`(`voucher_id`,`voucher_name`,`denomination`,`created_by`,`created_on`) values (3,'Rs 500',500,NULL,NULL);
insert  into `pnh_m_voucher`(`voucher_id`,`voucher_name`,`denomination`,`created_by`,`created_on`) values (4,'Rs 750',750,NULL,NULL);
insert  into `pnh_m_voucher`(`voucher_id`,`voucher_name`,`denomination`,`created_by`,`created_on`) values (5,'Rs 1000',1000,NULL,NULL);
alter table `pnh_t_book_allotment` add column `activated_on` datetime   NULL  after `margin`;
alter table `pnh_t_book_allotment` add column `order_id` varchar (255)  NULL  after `margin`; 
alter table `t_stock_update_log` add column `voucher_book_slno` varchar (255)  NULL  after `grn_id`; 
alter table `snapitto_livedb5`.`pnh_m_book_template` add column `menu_ids` varchar (255)  NULL  after `product_id`                                                                                      
//---------coupon module-------------------

//Order split
ALTER TABLE `snapitto_dblive`.`king_orders` ADD COLUMN `member_id` BIGINT(20) DEFAULT 0 NULL AFTER `member_scheme_processed`;
ALTER TABLE `snapitto_dblive`.`king_orders` ADD COLUMN `is_ordqty_splitd` TINYINT(1) DEFAULT 0 NULL AFTER `member_id`; 
alter table t_grn_product_link add column ref_stock_id bigint(11) default 0 after tax_percent;
alter table `king_invoice` add column `split_inv_grpno` bigint (20) DEFAULT '0' NULL  after `new_pnh_inv_no`;
CREATE TABLE `m_config_params` (        
                   `name` varchar(255) DEFAULT NULL,     
                   `value` varchar(255) DEFAULT NULL     
                 );
insert  into `m_config_params`(`name`,`value`) values ('LAST_MEMBERID_ALLOTED','23000000');

ALTER TABLE `snapitto_dblive`.`pnh_sms_log_sent` ADD COLUMN `pnh_mid` INT(10) NULL AFTER `pnh_empid`; 
ALTER TABLE `snapitto_dblive`.`pnh_sms_log_sent` CHANGE `pnh_mid` `pnh_mid` INT(10) DEFAULT 0 NULL;
alter table `pnh_employee_grpsms_log` change `type` `type` varchar (255)  NULL  COLLATE latin1_swedish_ci  COMMENT '4:shipments_notification,6:lr_number_updates,8:pickup_manifesto,9:hand_over_to_executive,10:delivery,11:invoice return,12:shipments akwm for tm';
alter table `pnh_t_voucher_details` change `status` `status` tinyint (11) DEFAULT '0' NULL  COMMENT '0:pending,1:voucher_linked_to_book,2:Allloted to franchise,3:Activated,4:Fully Reddemed,5:partailly Redeemed,6:Cancelled';
alter table `pnh_sms_log_sent` change `type` `type` varchar (50)  NULL  COLLATE latin1_swedish_ci  COMMENT '11:invoice delivered info to franchise,12:invoice shiped notification to franchise,13:return inv info to frc';
alter table `pnh_m_franchise_info` add column `last_credit` double  DEFAULT '0' NULL  after `credit_limit`, add column `is_prepaid` int (1) DEFAULT '0' NULL  after `security_custom_question2`;

CREATE TABLE `pnh_franchise_prepaid_log` (                 
                            `id` bigint(11) NOT NULL AUTO_INCREMENT,                
                            `franchise_id` bigint(11) DEFAULT '0',                  
                            `is_prepaid` tinyint(3) DEFAULT '0',               
                            `reason` text,                   
                            `created_on` bigint(11) DEFAULT '0',                  
                            `created_by` int(11) DEFAULT '0',                     
                            PRIMARY KEY (`id`)                                      
                          ) ;

CREATE TABLE `pnh_m_offers` (
`id` bigint(20) NOT NULL AUTO_INCREMENT,
`franchise_id` bigint(20) DEFAULT '0',
`menu_id` bigint(20) DEFAULT '0',
`brand_id` bigint(20) DEFAULT '0',
`cat_id` bigint(20) DEFAULT '0',
`offer_text` text,
`immediate_payment` tinyint(1) DEFAULT '0',
`offer_start` bigint(20) DEFAULT '0',
`offer_end` bigint(20) DEFAULT '0',
`created_by` bigint(20) DEFAULT '0',
`created_on` bigint(20) DEFAULT '0',
`is_active` tinyint(1) DEFAULT '1',
PRIMARY KEY (`id`)
) ;
alter table t_stock_update_log 
			add column  stock_info_id bigint(11) default 0 after mrp_change_updated,
			add column  stock_qty int(11) default 0 after stock_info_id;

alter table king_dealitems add column print_name varchar(255) default '' after name;

alter table `pnh_sms_log_sent` change `type` `type` varchar (50)  NULL  COLLATE latin1_swedish_ci  COMMENT '11:invoice delivered info to franchise,12:invoice shiped notification to franchise,13:return inv info to frc,14:shipment_ntf for tm';
alter table `pnh_employee_grpsms_log` change `type` `type` varchar (255)  NULL  COLLATE latin1_swedish_ci  COMMENT '4:shipments_notification,6:lr_number_updates,8:pickup_manifesto,9:hand_over_to_executive,10:delivery,11:invoice return,12:shipments akwm for tm,13:shipment_ntfy for tm';


alter table king_admin 
	add column `mobile` varchar(255) DEFAULT NULL after email,
	add column `gender` varchar(20) DEFAULT NULL after phone,
	add column `address` text after gender,
	add column `city` varchar(100) DEFAULT NULL after address,
	add column `img_url` varchar(255) DEFAULT NULL after city;



CREATE TABLE `m_stream_post_assigned_users` (
  `id` int(25) NOT NULL AUTO_INCREMENT,
  `userid` bigint(20) DEFAULT '0',
  `post_id` bigint(20) DEFAULT '0',
  `streamid` bigint(20) DEFAULT '0',
  `assigned_userid` int(11) DEFAULT '0',
  `assigned_on` varchar(100) DEFAULT NULL,
  `viewed` tinyint(1) DEFAULT '0',
  `active` tinyint(1) DEFAULT '1',
  PRIMARY KEY (`id`)
);



CREATE TABLE `m_stream_post_reply` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `description` text,
  `post_id` int(25) DEFAULT '0',
  `replied_by` int(25) DEFAULT '0',
  `replied_on` varchar(100) DEFAULT NULL,
  `status` tinyint(1) DEFAULT '1',
  PRIMARY KEY (`id`)
);



CREATE TABLE `m_stream_posts` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `title` varchar(32) DEFAULT NULL,
  `description` text,
  `stream_id` bigint(20) NOT NULL,
  `status` tinyint(1) DEFAULT '0',
  `posted_by` int(11) DEFAULT '0',
  `posted_on` varchar(100) DEFAULT NULL,
  `modified_by` int(11) DEFAULT '0',
  `modified_on` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
);


CREATE TABLE `m_stream_users` (
  `id` bigint(11) NOT NULL AUTO_INCREMENT,
  `stream_id` int(11) DEFAULT '0',
  `user_id` int(25) DEFAULT '0',
  `access` int(1) DEFAULT '0',
  `is_active` tinyint(1) DEFAULT '1',
  `created_by` int(11) DEFAULT '0',
  `created_on` varchar(100) DEFAULT NULL,
  `modified_by` int(11) DEFAULT '0',
  `modified_on` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`id`)
);

CREATE TABLE `m_streams` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `title` varchar(200) NOT NULL,
  `description` text NOT NULL,
  `file_url` varchar(255) NOT NULL,
  `created_by` varchar(255) NOT NULL,
  `created_time` varchar(100) NOT NULL,
  `modified_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `status` int(25) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
);

alter table `m_streams` add column `modified_by` int (11) DEFAULT '0' NULL  after `created_time`;
alter table `m_streams` change `created_by` `created_by` varchar (255) DEFAULT '0' NOT NULL  ,    change `modified_by` `modified_by` varchar (100) DEFAULT '0' NULL  ,   change `modified_time` `modified_time` varchar (90)  NOT NULL;
alter table `m_streams` change `created_by` `created_by` int (11) DEFAULT '0' NOT NULL  COLLATE latin1_swedish_ci , change `created_time` `created_time` bigint (20)  NOT NULL  COLLATE latin1_swedish_ci , change `modified_time` `modified_time` bigint (20) DEFAULT '0' NOT NULL , change `status` `status` int (1) DEFAULT '0' NOT NULL;
alter table `m_stream_post_assigned_users` add column `mail_sent` tinyint (1) DEFAULT '0' NULL  after `active`;
ALTER TABLE `snapitto_dblive`.`m_product_info` ADD COLUMN `product_squcode` VARCHAR(25) NULL AFTER `product_code`; 

alter table `pnh_m_manifesto_sent_log` change `lrno` `lrno` varchar (275)  NULL alter table `snapitto_livedb5`.`pnh_m_manifesto_sent_log` change `lrno` `lrno` varchar (275)  NULL;

//ship log
CREATE TABLE `pnh_ship_remarksupdate_log` (
  `id` bigint(25) NOT NULL AUTO_INCREMENT,
  `msg_logid` int(11) DEFAULT '0',
  `remarks` text,
  `updated_by` time DEFAULT NULL,
  `updated_on` time DEFAULT NULL,
  PRIMARY KEY (`id`)
);

ALTER TABLE `pnh_ship_remarksupdate_log` CHANGE `msg_logid` `ship_msg_id` INT(11) DEFAULT 0 NULL, CHANGE `remarks` `ticket_id` TEXT CHARSET latin1 COLLATE latin1_swedish_ci NULL; 
ALTER TABLE `pnh_ship_remarksupdate_log` CHANGE `ticket_id` `ticket_id` INT(0) NULL;
ALTER TABLE `pnh_ship_remarksupdate_log` CHANGE `ticket_id` `ticket_id` INT(11) DEFAULT 0 NULL; 
ALTER TABLE `pnh_executive_accounts_log` ADD COLUMN `is_ticket_created` TINYINT(11) DEFAULT 0 NULL AFTER `logged_on`; 
ALTER TABLE `pnh_sms_log_sent` ADD COLUMN `ticket_id` BIGINT(50) DEFAULT 0 NULL AFTER `type`; 

//returns changes
alter table `pnh_invoice_returns` add column `order_from` tinyint (1) DEFAULT '0' NULL  COMMENT '0:pnh,1:sit,2:partners' after `status`;

alter table `pnh_m_manifesto_sent_log` add column `ref_box_no` bigint (10) DEFAULT '0' NULL  after `no_ofboxes`;

alter table `t_grn_product_link` add column `dp_price` decimal (15,4) DEFAULT '0' NULL  after `mrp`;
alter table `t_po_product_link` add column `dp_price` decimal (15,4) DEFAULT '0' NULL  after `mrp`;

CREATE TABLE `pnh_town_courier_priority_link` (  
	  `id` bigint(11) NOT NULL AUTO_INCREMENT,       
	  `town_id` int(11) DEFAULT '0',                 
	  `courier_priority_1` int(5) DEFAULT '0',       
	  `courier_priority_2` int(5) DEFAULT '0',       
	  `courier_priority_3` int(5) DEFAULT '0',       
	  `delivery_hours_1` int(3) DEFAULT '0',         
	  `delivery_hours_2` int(3) DEFAULT '0',         
	  `delivery_hours_3` int(3) DEFAULT '0',         
	  `is_active` tinyint(1) DEFAULT '0',            
	  `created_on` datetime DEFAULT NULL,            
	  `created_by` int(11) DEFAULT '0',              
	  `modified_on` datetime DEFAULT NULL,           
	  `modified_by` int(11) DEFAULT '0',             
	  PRIMARY KEY (`id`)
	);

alter table `pnh_town_courier_priority_link` add column `delivery_type_priority1` int (3) DEFAULT '0' NULL  after `delivery_hours_3`, add column `delivery_type_priority2` int (3) DEFAULT '0' NULL  after `delivery_type_priority1`, add column `delivery_type_priority3` int (3) DEFAULT '0' NULL  after `delivery_type_priority2`;

alter table `m_courier_info` add column `ref_partner_id` int (11) DEFAULT '0' NULL  after `remarks`;

alter table `shipment_batch_process_invoice_link` add column `assigned_userid` int (11) DEFAULT '0' NOT NULL  after `delivered_by`;

create table `m_batch_config` ( `id` bigint (20) NOT NULL AUTO_INCREMENT , `batch_grp_name` varchar (150) , `assigned_menuid` int (11) DEFAULT '0', `batch_size` int (11) DEFAULT '0', `assigned_uid` int (10) , PRIMARY KEY ( `id`));


alter table `shipment_batch_process` 
	add column `assigned_userid` int (11) DEFAULT '0' NULL  after `status`, 
	add column `territory_id` int (11) DEFAULT '0' NULL  after `assigned_userid`, 
	add column `batch_configid` int (11) DEFAULT '0' NULL  after `territory_id`;

alter table `m_batch_config` drop column `assigned_uid`

alter table `m_batch_config` add column `group_assigned_uid` varchar (120)  NULL  after `batch_size`;

alter table `shipment_batch_process_invoice_link` drop column `assigned_userid`;

alter table `shipment_batch_process_invoice_link` add column `is_acknowlege_printed` int (11) DEFAULT '0' NULL  after `delivered_by`;

create table `picklist_log_reservation` (  `id` bigint NOT NULL AUTO_INCREMENT , `group_no` bigint (20) DEFAULT '0', `p_inv_no` int (100) , `created_by` int (11) DEFAULT '0', `createdon` datetime , `printcount` int (100) , PRIMARY KEY ( `id`));
